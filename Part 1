<!--
Name: Mustafa Mohd
File: index.html
Date: April 2nd 2025
A JavaScript-based story generator that creates a silly random story based on user input.
-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Silly Story Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
        }
        button {
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1>Silly Story Generator</h1>
    
    <label for="customName">Enter a name:</label>
    <input type="text" id="customName" placeholder="Enter a name">
    
    <p>
        <label><input type="radio" name="unit" id="us" checked> US</label>
        <label><input type="radio" name="unit" id="uk"> UK</label>
    </p>
    
    <button id="generate">Generate Story</button>
    <p id="story"></p>

    <script src="main.js"></script> <!-- Link to external JavaScript -->
</body>
</html>

const customName = document.getElementById("customName");
const randomize = document.getElementById("generate");
const story = document.getElementById("story");

function randomValueFromArray(array) {
    return array[Math.floor(Math.random() * array.length)];
}

const storyText =
    "It was a crazy day. :insertx: went to :inserty: and saw :insertz:. It was 94 Fahrenheit outside, and 300 pounds of food was everywhere!";

const insertX = ["Alice", "John", "Emma"];
const insertY = ["the zoo", "a castle", "the mall"];
const insertZ = ["a flying car", "a talking cat", "a giant dancing banana"];

randomize.addEventListener("click", result);

function result() {
    let newStory = storyText;
    let xItem = randomValueFromArray(insertX);
    let yItem = randomValueFromArray(insertY);
    let zItem = randomValueFromArray(insertZ);

    newStory = newStory.replace(":insertx:", xItem);
    newStory = newStory.replace(":inserty:", yItem);
    newStory = newStory.replace(":insertz:", zItem);

    if (customName.value !== "") {
        newStory = newStory.replace(xItem, customName.value);
    }

    if (document.getElementById("uk").checked) {
        let weight = Math.round(300 / 14) + " stone";
        let temperature = Math.round((94 - 32) * 5 / 9) + " centigrade";
        newStory = newStory.replace("94 Fahrenheit", temperature);
        newStory = newStory.replace("300 pounds", weight);
    }

    story.textContent = newStory;
}
const customName = document.getElementById("customName");
const randomize = document.getElementById("generate");
const story = document.getElementById("story");

function randomValueFromArray(array) {
    return array[Math.floor(Math.random() * array.length)];
}

const storyText =
    "It was a crazy day. :insertx: went to :inserty: and saw :insertz:. It was 94 Fahrenheit outside, and 300 pounds of food was everywhere!";

const insertX = ["Alice", "John", "Emma", "Mustafa", "Charlie"];
const insertY = ["the zoo", "a castle", "the mall", "the jungle", "a spaceship"];
const insertZ = ["a flying car", "a talking cat", "a giant dancing banana", "a robot dog", "a unicorn eating pizza"];

randomize.addEventListener("click", result);

function result() {
    let newStory = storyText;

    let xItem = randomValueFromArray(insertX);
    let yItem = randomValueFromArray(insertY);
    let zItem = randomValueFromArray(insertZ);

    // Replace all placeholders correctly
    newStory = newStory.replace(":insertx:", xItem);
    newStory = newStory.replace(":inserty:", yItem);
    newStory = newStory.replace(":insertz:", zItem);

    // Replace custom name if entered
    if (customName.value !== "") {
        newStory = newStory.replace(xItem, customName.value);
    }

    // Convert to UK units if checked
    if (document.getElementById("uk").checked) {
        let weight = Math.round(300 / 14) + " stone";
        let temperature = Math.round((94 - 32) * 5 / 9) + " centigrade";
        newStory = newStory.replace("94 Fahrenheit", temperature);
        newStory = newStory.replace("300 pounds", weight);
    }

    // Display the new story
    story.textContent = newStory;
}
